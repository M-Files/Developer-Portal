
@use "../design-system/_variables" as variables;
@use "../design-system/mixins/_colours" as colours;
@use "../design-system/mixins/_fonts" as fonts;
@use "../design-system/mixins/components/_widget" as widgets;
@use "../design-system/mixins/components/buttons" as buttons;


@import "page-contents/breadcrumb";
@import "page-contents/notes";
@import "page-contents/code-formatting";

body{


	&::before{
		position: fixed;
		top: 68px;
		left: 0px;
		height: 20px;
		right: 0px;
		background-color: colours.nightSky();
		display: block;
		content: " ";
		z-index: 100;
	}
	&::after{
		position: fixed;
		top: 68px;
		left: 0px;
		height: 20px;
		right: 0px;
		border-radius: variables.$borderradius variables.$borderradius 0 0;
		background-color: colours.nightSky(5);
		display: block;
		content: " ";
		z-index: 110;
	}

	article.page{
		// border-radius: variables.$borderradius variables.$borderradius 0 0;
		background-color: colours.nightSky(5);
		color: colours.nightSky();
		grid-column: 2;
		grid-row: 3;
		z-index: 120;
		h2 { scroll-margin-top: 80px; }

		h1{
			@include fonts.font-heading3();
			color: colours.nightSky();
		}
		h3{
			margin: 20px 0px;
			@include fonts.font-heading6();
			font-weight: normal !important;
		}
		h4{
			margin: 20px 0px;
			@include fonts.font-heading7();
			font-weight: normal !important;
		}
				
		p > img{
			max-width: 100%;
			border: 1px solid colours.nightSky(40);
			border-radius: variables.$borderradius_small;
			margin: 10px auto;
		}
		div.highlighter-rouge{
			margin: 16px 0px;
			pre > code.hljs{
				overflow-x: auto;
			}
		}
		nav#in-page-nav, article[role=article], div.hero, div.legacy{
			//@include widgets.widget();
			h2{ 
				@include fonts.font-heading5;
				margin-bottom: 20px;
				a, a:link, a:hover, a:visited{
					color: colours.nightSky();
					text-decoration: none;
				}
			}
			h3{ 
				@include fonts.font-heading6;
				margin-bottom: 10px;
				font-weight: bold;
			}
		}
		nav#in-page-nav, article[role=article], nav.other-articles, div.hero, div.legacy
		{
			h2:not(:first-of-type){
				margin-top:20px;
			}
		}

		nav#in-page-nav{
			.border{
				display: none;
			}
			li{
				> a, > a:hover, > a:visited, > a:link{
					color: colours.nightSky();
				}
			}
		}

		nav.other-articles{
			h2{
				@include fonts.font-heading5;
				margin: 20px 10px 8px 10px;
			}
			ul{
				list-style-type: none;
				margin: 0px;
				padding: 0px;
				display: grid;
				grid-gap: 16px;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				li{
					@include widgets.widget();
					margin: 0px;
					display: inline-grid;
					a{
						text-decoration: none;
						color: colours.nightSky();
						display: block;
						background-image: url("data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.0711 23.0711L21.0007 16.1414C21.0788 16.0633 21.0788 15.9367 21.0007 15.8586L14.0711 8.92893' stroke='%236C728D' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
						background-repeat: no-repeat;
						background-position: center right;
						align-self: center;
						padding-right: 20px;
					}
				}
			}
		}
		ol, ul{
			margin: 20px 0px;
			box-sizing: border-box;
			> li > ol, >li > ul{
				margin-top: 0px;
				margin-bottom: 12px;
			}
			li{
				margin: 12px 0px 0px 20px;
			}
		}
		ul, ol:not(.breadcrumb){
			list-style-type: disc;
		}
		ol{
			list-style-type: decimal;
		}
	}

    
	
	&.legacy{
		#legacy-wrapper{
			display: none;
		}
		&.shown{
			#legacy-wrapper{
				position: fixed;
				top: 0px;
				left: 0px;
				right: 0px;
				bottom: 0px;
				background-color: rgba($color: colours.nightSky(), $alpha: 0.7);
				z-index: 400;
				display: grid;
				grid-template-columns: 1fr minmax(auto, 800px) 1fr;
				grid-template-rows: 1fr auto 1fr;
				.legacy{
					grid-row: 2;
					grid-column: 2;
					.note{
						background-color: transparent;
						margin: 0px;
					}
				}
			}
		}
	}
}
@media screen and (min-width: 1000px) {
	body{
		article.page, footer{
			margin-left: 275px;
		}
	}
}


@media screen and (min-width: 1200px) {
	body{
		nav#in-page-nav{
			position: fixed;
			top: 77px;
			right: 0px;
			left: auto;
			width: 310px;
			bottom: 0px;
			#in-this-article{
				overflow-y: auto;
				position: relative;
				> ul{
					border-left: 4px solid lightgrey;
					> li:first-child{
						padding-top: 0px;
					}
					> li:last-child{
						padding-bottom: 0px;
					}
					ul{
						margin-bottom: 0px;
					}
				}
				.border{
					position: absolute;
					width: 4px;
					background-color: #0a1541;
					display: block;
					transition: all 0.3s ease-in-out;
				}
			}
			li{
				list-style-type: none;
				margin: 0 0 0 10px;
				padding: 12px 0 0 10px;
				&.current > a{
					font-weight: 600;
				}
			}
		}
		article.page, footer{
			margin-right: 320px;
		}
	}
}